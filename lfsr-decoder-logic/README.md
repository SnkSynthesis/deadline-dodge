# LFSR + Decoder Logic
This is the logic that decides which column to spawn a rock in.

We are using the LFSR as our psuedorandom number generator. 3 of 4 taps are used on the LFSR so the falling rocks have a longer sequence with repetitions to seem more random.

The decoded sequence is as follows:

<img alt="LFSR Sequence" src="Decoded_Sequence.png" width="10%" height="10%"> 

Using the 3-bit binary number generated by the LFSR, the 3-to-8 decoder "chooses" a specific column (which is actually an 8-bit shift register) to send a rock down on each clock cycle. The image only shows 2 of 8 shift registers, column F5 and column F7 (for demonstration purposes).

The 3-to-8 decoder's output is active-low, so the light that is off is the one that has been "chosen", we invert this when sending the output to the columns (since our shift registers are active-high). The rocks will then fall every clock pulse determined by the [speed-logic](../speed-logic) since our 8-bit shift registers will shift on clock pulse.

![LFSR Diagram](Falling_Lights_example.png)

_Screenshot of LFSR_Decoder_Shiftreg.ms14_


